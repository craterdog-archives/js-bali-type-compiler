[
    $procedure: {
        publish [
            $type: $changeEvent
            $key: $foo
            $value: size + 1
        ]
    }
    $instructions: "
        1.PublishStatement:
        NOTE --Save the name of the global event bag.
        PUSH LITERAL `/bali/vm/events/v1`
        SAVE VARIABLE $bag-2
        NOTE --Publish an event to the global event bag.
        NOTE --Place an empty catalog on the stack.
        CALL $catalog
        NOTE --Add an item to the catalog.
        PUSH LITERAL `$type`
        PUSH LITERAL `$changeEvent`
        CALL $association WITH 2 ARGUMENTS
        CALL $addItem WITH 2 ARGUMENTS
        NOTE --Add another item to the catalog.
        PUSH LITERAL `$key`
        PUSH LITERAL `$foo`
        CALL $association WITH 2 ARGUMENTS
        CALL $addItem WITH 2 ARGUMENTS
        NOTE --Add another item to the catalog.
        PUSH LITERAL `$value`
        LOAD VARIABLE $size
        PUSH LITERAL `1`
        CALL $sum WITH 2 ARGUMENTS
        CALL $association WITH 2 ARGUMENTS
        CALL $addItem WITH 2 ARGUMENTS
        SAVE MESSAGE $bag-2
        LOAD VARIABLE $result-1
        PULL RESULT
    "($mediaType: "application/basm")
    $addresses: [
        "1.PublishStatement": 1
    ]
    $bytecode: '
        28018001C01328022803D009D00128042805D009D001280660032807D078
        D009D001980160025000
    '(
        $encoding: $base16
        $mediaType: "application/bcod"
    )
    $arguments: [
        $target
    ]
    $variables: [
        $bag-2
        $result-1
        $size
    ]($type: /bali/collections/Set/v1)
    $messages: [ ]($type: /bali/collections/Set/v1)
]
